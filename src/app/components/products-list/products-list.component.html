<div class="top-section">
  <div class="search-bar">
    <input nz-input nzSize="large" placeholder="Search by name or category" [(ngModel)]="searchTerm"
      (input)="filterProducts()" />
    <nz-select nzSize="large" class="orderBy" [(ngModel)]="sortOrder" nzPlaceHolder="Sort by price"
      (ngModelChange)="sortProducts()">
      <nz-option nzValue="asc" nzLabel="Ascending"></nz-option>
      <nz-option nzValue="desc" nzLabel="Descending"></nz-option>
    </nz-select>
  </div>
  <app-add-product-modal #addProductModal (productAdded)="addProduct($event)"></app-add-product-modal>
  <button nz-button nzSize="large" nzType="primary" (click)="addProductModal.showModal()">
    Add product
  </button>
</div>

<nz-table #basicTable [nzData]="products" [nzBordered]="true" [nzLoading]="loading" [nzSize]="'middle'"
  [nzShowPagination]="false">
  <thead>
    <tr>
      <th nzWidth="25%">Name</th>
      <th nzWidth="15%">Price</th>
      <th nzWidth="20%">Category</th>
      <th nzWidth="10%">Availability</th>
      <th nzWidth="10%"></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let product of products" app-product [product]="product"></tr>
  </tbody>
</nz-table>